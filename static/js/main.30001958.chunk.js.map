{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","API-services/ApiService.js","components/Button/Button.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Searchbar/SearchBar.jsx","App.js","index.js","components/Searchbar/SearchBar.module.css"],"names":["module","exports","ApiService","this","API_KEY","API_PATH","searchQuery","queryPage","perPage","query","split","join","fetch","Button","onClick","className","s","type","ImageGalleryItem","image","src","webformatURL","alt","tags","apiService","ImageGallery","state","images","status","error","loadMoreBtnHandler","incrementQueryPage","setState","prevState","props","fetchImages","then","response","json","hits","length","Promise","reject","Error","catch","prevProps","resetQueryPage","window","scrollTo","top","document","documentElement","scrollHeight","behavior","style","margin","color","height","width","noImagesFoundWarn","message","map","Component","SearchBar","onInputChange","evt","target","value","onSubmit","preventDefault","trim","toast","Searchbar","SearchForm","button","buttonLabel","input","autoComplete","autoFocus","placeholder","onChange","App","setQuery","newQquery","position","autoClose","transition","Slide","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.30001958.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"noImagesFoundWarn\":\"ImageGallery_noImagesFoundWarn__th_7r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"image\":\"ImageGalleryItem_image__2xsbt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","export default class ApiService {\n  constructor() {\n    this.API_KEY = '19115402-2f4ed690e134b4c839000dec3';\n    this.API_PATH = 'https://pixabay.com/api/';\n    this.searchQuery = '';\n    this.queryPage = 1;\n    this.perPage = 12;\n  }\n  fetchImages(query) {\n    let { API_PATH, API_KEY, searchQuery, queryPage, perPage } = this;\n    searchQuery = query.split(' ').join('+');\n    return fetch(\n      `${API_PATH}?key=${API_KEY}&q=${searchQuery}&page=${queryPage}&per_page=${perPage}`,\n    );\n  }\n  incrementQueryPage() {\n    this.queryPage += 1;\n  }\n  resetQueryPage() {\n    this.queryPage = 1;\n  }\n}\n","import React from 'react';\nimport s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function Button({ onClick }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ image }) {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img src={image.webformatURL} alt={image.tags} className={s.image} />\n    </li>\n  );\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport s from './ImageGallery.module.css';\n\nimport ApiService from '../../API-services/';\nimport Button from '../Button';\nimport ImageGalleryItem from '../ImageGalleryItem/';\n\nconst apiService = new ApiService();\n\nexport default class ImageGallery extends Component {\n  state = {\n    images: [],\n    status: 'idle',\n    queryPage: 1,\n    error: null,\n  };\n  static propTypes = {\n    searchQuery: PropTypes.string.isRequired,\n  };\n\n  fetchImages() {\n    const { searchQuery } = this.props;\n\n    this.setState({ status: 'pending' });\n\n    apiService\n      .fetchImages(searchQuery)\n      .then(response => response.json())\n      .then(response => {\n        if (response.hits.length === 0) {\n          return Promise.reject(new Error(`No ${searchQuery} images found`));\n        }\n        this.setState(prevState => ({\n          images: [...prevState.images, ...response.hits],\n          status: 'resolved',\n        }));\n      })\n      .catch(error => this.setState({ status: 'rejected', error }));\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery } = this.props;\n    const { queryPage } = this.state;\n\n    if (searchQuery !== prevProps.searchQuery) {\n      apiService.resetQueryPage();\n      this.setState({ images: [], queryPage: 1 });\n      this.fetchImages();\n    }\n    if (queryPage !== prevState.queryPage) {\n      this.fetchImages();\n    }\n    if (queryPage > 1) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n  loadMoreBtnHandler = () => {\n    apiService.incrementQueryPage();\n    this.setState(prevState => ({ queryPage: prevState.queryPage + 1 }));\n  };\n  render() {\n    const { images, status, error } = this.state;\n    if (status === 'idle') {\n      return null;\n    }\n    if (status === 'pending') {\n      return (\n        <Loader\n          style={{ margin: '0 auto' }}\n          type=\"ThreeDots\"\n          color=\"#00BFFF\"\n          height={40}\n          width={40}\n        />\n      );\n    }\n    if (status === 'rejected') {\n      return <b className={s.noImagesFoundWarn}>{error.message}</b>;\n    }\n    if (status === 'resolved') {\n      return (\n        <>\n          <ul className={s.ImageGallery}>\n            {images.map(image => (\n              <ImageGalleryItem image={image} key={image.webformatURL} />\n            ))}\n          </ul>\n          <Button onClick={this.loadMoreBtnHandler} />\n        </>\n      );\n    }\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport s from './SearchBar.module.css';\nimport ApiService from '../../API-services';\n\nconst apiService = new ApiService();\nexport default class SearchBar extends Component {\n  state = {\n    searchQuery: '',\n  };\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n  onInputChange = evt => {\n    this.setState({\n      searchQuery: evt.target.value,\n    });\n  };\n  onSubmit = evt => {\n    const { searchQuery } = this.state;\n    const { onSubmit } = this.props;\n    evt.preventDefault();\n    if (searchQuery.trim() === '') {\n      return toast.error('Please, input search query ');\n    }\n    apiService.resetQueryPage();\n    onSubmit(searchQuery);\n  };\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.onSubmit}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.buttonLabel}>Search</span>\n          </button>\n          <input\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={searchQuery}\n            onChange={this.onInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { ToastContainer, Slide } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport ImageGallery from './components/ImageGallery';\nimport SearchBar from './components/Searchbar';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  setQuery = newQquery => {\n    this.setState({ searchQuery: newQquery });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    const { setQuery } = this;\n    return (\n      <div className=\"App\">\n        <ToastContainer\n          position=\"top-center\"\n          autoClose={2500}\n          transition={Slide}\n        />\n        <SearchBar onSubmit={setQuery} />\n        <ImageGallery searchQuery={searchQuery} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__LuSsJ\",\"SearchForm\":\"SearchBar_SearchForm__1OsD8\",\"button\":\"SearchBar_button__1AsWZ\",\"buttonLabel\":\"SearchBar_buttonLabel__2mFrQ\",\"input\":\"SearchBar_input__dWgLv\"};"],"sourceRoot":""}